{% extends 'plateforme/base.html' %}


{% block title %}RECHERCHE CLIENT{% endblock %}


{% block content %}

{% load staticfiles %}


  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Recherche de Clients<br>
      </h1>
      <ol class="breadcrumb">
        <li><a href="{% url 'plateforme:accueil' %}"><i class="fa fa-dashboard"></i> Accueil</a></li>
        <li><a href="{% url 'plateforme:client_list' %}">Etats</a></li>
        <li class="active">Recherche</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
        
      <div class="row">
        <div class="col-xs-12">
        {% load widget_tweaks %}
          <div class="box">
              <form method="get">
                <div class="well">
                  <h4 style="margin-top: 0">Filtre</h4>
                  <div class="row">
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.nom.label_tag }}
                      {% render_field filter.form.nom class="form-control" %}
                    </div>
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.prenom.label_tag }}
                      {% render_field filter.form.prenom class="form-control" %}
                    </div>
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.sexe.label_tag }}
                      {% render_field filter.form.sexe class="form-control" %}
                    </div>
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.date_naissance.label_tag }}
                      {% render_field filter.form.date_naissance class="form-control" %}
                    </div>
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.lieu_naissance.label_tag }}
                      {% render_field filter.form.lieu_naissance class="form-control" %}
                    </div>
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.cni.label_tag }}
                      {% render_field filter.form.cni class="form-control" %}
                    </div>
                    <div class="form-group col-sm-4 col-md-3">
                      {{ filter.form.date_arr_gab.label_tag }}
                      {% render_field filter.form.date_arr_gab class="form-control" %}
                    </div>
                  </div>

                  <button type="submit" class="btn btn-primary">
                    <span class="glyphicon glyphicon-search"></span> Recheche
                  </button>
                </div>
              </form>
          </div><br>
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Liste clients</h3>

              <div class="box-tools">
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
              <table class="table table-hover table-stripped table-condensed table-bordered">
                <tr>
                  <th>#</th>
                  <th>Photo</th>
                  <th>Noms & Prénoms</th>
                  <th>Sexe</th>
                  <th>Date & Lieu_Naissance</th>
                  <!--th>Nom_du_Père</th>
                  <th>Nom_de_la_Mère</th-->
                  <th>Profession</th>
                  <th>Statut_Matrimonial</th>
                  <!--th>Nom_Conjoint(e)</th-->
                  <!--th>Nbre_enfants</th-->
                  <!--th>Pays_d'Origine</th>
                  <th>Ville_d'Origine</th-->
                  <!--th>Ville_de_Résidence</th-->
                  <th>Lieu_de_Résidence</th>
                  <!--th>Nationalité</th-->
                  <th>Num_CNI</th>
                  <!--th>CNI_Délivré_Par</th>
                  <th>Date_Délivrance_CNI</th-->
                  <!--th>Num_Passeport</th-->
                  <!--th>Passport_Délivré_Par</th>
                  <th>Date_Délivrance_Passport</th-->
                  <th>Arrivé_Au_GABON</th>
                  <!--th>Date_d'Ajout</th-->
                  <!--th>Ajouté_Par</th-->
                  <th>Action</th>
                </tr>
                {% for client in filter.qs %}
                  <tr>
                    <td>
                      <a href="{% url 'plateforme:client_detail' client.id %}">
                       {{ client.id }} 
                      </a>
                    </td>
                    <td align="center"><img src="{{ client.document_url|default_if_none:'#' }}" class="img-circle" style="height: 15px; width: 15px;"></td>
                    <td>
                        {{ client.nom }} {{ client.prenom }}
                    </td>
                    <td>{{ client.sexe }}</td>
                    <td>{{ client.date_naissance }} {{ client.lieu_naissance }}</td>
                    <!--td>{{ client.pere }}</td>
                    <td>{{ client.mere }}</td-->
                    <td>{{ client.profession }}</td>
                    <td>{{ client.statut }}</td>
                    <!--td>{{ client.conjoint }}</td-->
                    <!--td>{{ client.nbre_enfants }}</td-->
                    <!--td>{{ client.pays_origine }}</td-->
                    <!--td>{{ client.ville_origine }}</td>
                    <td>{{ client.ville_residence }}</td-->
                    <td>{{ client.lieu_residence }}</td>
                    <!--td>{{ client.nationalite }}</td-->
                    <td>{{ client.cni }}</td>
                    <!--td>{{ client.cni_delivre_par }}</td>
                    <td>{{ client.date_cni }}</td-->
                    <!--td>{{ client.passport }}</td-->
                    <!--td>{{ client.passp_delivre_par }}</td>
                    <td>{{ client.date_passp }}</td-->
                    <td>{{ client.date_arr_gab }}</td>
                    <!--td>{{ client.date_ajout }}</td-->
                    <!--td>{{ client.ajoute_par }}</td-->
                    <td>
                      <div class="btn-group" role="group" aria-label="...">
                        <a href="{% url 'plateforme:client_update' client.id %}" class="btn btn-primary"><i class="fa fa-edit"></i></a>
                        <a href="{% url 'plateforme:client_delete' client.id %}" class="btn btn-danger"><i class="fa fa-trash"></i></a>
                      </div>
                    </td>
                  </tr>
               {% endfor %}
              </table><br>
              <div class="box-footer">
              </div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
      </div>
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

{% endblock %}